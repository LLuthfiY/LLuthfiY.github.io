<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz PDF Generator</title>
    <script src="https://unpkg.com/pdf-lib"></script>
    <link rel="stylesheet" href="./src/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="./src/css/style.css">
    <link rel="stylesheet" href="./src/css/reponsive.css">
    <link rel="stylesheet" href="./src/css/customScrollBar.css">
    <script src="./src/bootstrap/js/bootstrap.bundle.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
</head>

<body>
    <div class=" justify-content-center">

        <div class="col-11 mx-auto border border-1 shadow mt-4 p-4">
            <div id="container-soal" class=" w-100" style="min-height: 50px;">

            </div>
            <div class=" w100 d-flex mb-4">
                <!-- <button class="btn btn-primary " onclick="addInputWithLabel()"><i class=" bi bi-plus "> input with
                        label</i></button> -->
                <button class="btn btn-primary ms-auto" onclick="addQuestion()"><i class=" bi bi-plus ">
                        Question</i></button>
            </div>
            <div class=" w100 d-flex">
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                    Generate PDF
                </button>
            </div>
        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Coming Soon</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    under Development
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

                </div>
            </div>
        </div>
    </div>
</body>
<script>
    let container_soal = document.getElementById('container-soal');

    function addQuestion() {
        let soal = document.createElement('div');
        soal.className = 'soal w-100';
        let number_question = document.createElement("p"); //number question
        number_question.className = 'number_question fw-bold text-dark';
        number_question.innerHTML = 'question ' + (container_soal.childElementCount + 1);
        soal.append(number_question);
        let question_container = document.createElement('div');
        question_container.className = 'question_container w-100';
        soal.append(question_container);

        // btn container ðŸ”¥   
        let btn_container = document.createElement('div');
        btn_container.className = 'btn_container w-100 mb-4 d-flex';
        soal.append(btn_container);

        // btn group ðŸ”¥ 
        let btn_group = document.createElement('div');
        btn_group.className = 'btn-group w-auto';

        let btn_add_question_text = document.createElement('button');
        btn_add_question_text.className = 'btn btn-secondary btn-sm';
        btn_add_question_text.innerHTML = '<i class="bi bi-card-text"></i>';
        btn_add_question_text.setAttribute('onclick', 'addQuestionText(this)');
        btn_add_question_text.title = 'add question text';
        btn_group.append(btn_add_question_text);

        let btn_add_question_image = document.createElement('button');
        btn_add_question_image.className = 'btn btn-secondary btn-sm';
        btn_add_question_image.innerHTML = '<i class="bi bi-card-image"></i>';
        btn_add_question_image.setAttribute('onclick', 'addQuestionImage(this)');
        btn_add_question_image.title = 'add question image';
        btn_group.append(btn_add_question_image);

        let btn_add_essay_answer = document.createElement('button');
        btn_add_essay_answer.className = 'btn btn-secondary btn-sm';
        btn_add_essay_answer.innerHTML = '<i class="bi bi-chat-left-text"></i>';
        btn_add_essay_answer.setAttribute('onclick', 'addEssayAnswer(this)');
        btn_add_essay_answer.title = 'add essay answer';
        btn_group.append(btn_add_essay_answer);

        let btn_add_question_checkbox_text = document.createElement('button');
        btn_add_question_checkbox_text.className = 'btn btn-secondary btn-sm';
        btn_add_question_checkbox_text.innerHTML = '<i class="bi bi-check"></i><i class="bi bi-card-text"></i>';
        btn_add_question_checkbox_text.setAttribute('onclick', 'addQuestionCheckboxText(this)');
        btn_add_question_checkbox_text.title = 'add question checkbox text';
        btn_group.append(btn_add_question_checkbox_text);

        let btn_add_question_checbox_image = document.createElement('button');
        btn_add_question_checbox_image.className = 'btn btn-secondary btn-sm';
        btn_add_question_checbox_image.innerHTML = '<i class="bi bi-check"></i><i class="bi bi-card-image"></i>';
        btn_add_question_checbox_image.setAttribute('onclick', 'addQuestionCheckboxImage(this)');
        btn_add_question_checbox_image.title = 'add question checkbox image';
        btn_group.append(btn_add_question_checbox_image);



        // btn group end â›” 
        btn_container.append(btn_group);

        let btn_delete_question = document.createElement('button');
        btn_delete_question.className = 'btn btn-danger ms-auto';
        btn_delete_question.innerHTML = '<i class="bi bi-trash"></i>';
        btn_delete_question.setAttribute('onclick', 'deleteQuestion(this)');
        btn_delete_question.title = 'delete question';
        btn_container.append(btn_delete_question);



        container_soal.append(soal);
        reset_number()
    }

    function reset_number() {
        let soal = document.getElementsByClassName('soal');
        for (let i = 0; i < soal.length; i++) {
            soal[i].getElementsByClassName('number_question')[0].innerHTML = 'question ' + (i + 1);
        }
    }

    function addQuestionText(element) {
        let question_container = element.parentElement.parentElement.parentElement.childNodes[1];
        let question_text = document.createElement('div');
        question_text.className = 'question_text w-100 mb-2';
        let question_text_input = document.createElement('textarea');
        question_text_input.className = 'question_text_input w-100 form-control';
        question_text_input.setAttribute('type', 'text');
        question_text_input.setAttribute('placeholder', 'question text');
        question_text.append(question_text_input);
        question_container.append(question_text);
    }

    function addQuestionImage(element) {
        let question_container = element.parentElement.parentElement.parentElement.childNodes[1];
        let question_image = document.createElement('div');
        question_image.className = 'question_image w-100 mb-2';
        let question_image_input = document.createElement('input');
        question_image_input.className = 'question_image_input w-100 form-control';
        question_image_input.setAttribute('type', 'file');
        question_image_input.setAttribute('placeholder', 'question image');
        question_image.append(question_image_input);
        question_container.append(question_image);
    }

    function addEssayAnswer(element) {
        let question_container = element.parentElement.parentElement.parentElement.childNodes[1];
        let essay_answer = document.createElement('div');
        essay_answer.className = 'essay_answer w-100 mb-2';
        let essay_answer_input = document.createElement('textarea');
        essay_answer_input.className = 'essay_answer_input w-100 form-control';
        essay_answer_input.setAttribute('type', 'text');
        essay_answer_input.setAttribute('placeholder', 'essay answer');
        essay_answer.append(essay_answer_input);
        question_container.append(essay_answer);
    }

    function addQuestionCheckboxText(element) {
        let question_container = element.parentElement.parentElement.parentElement.childNodes[1];
        let question_checkbox_text = document.createElement('div');
        question_checkbox_text.className = 'question_checkbox_text w-100 d-flex mb-2';
        let question_checkbox_text_input = document.createElement('input');
        question_checkbox_text_input.className = 'question_checkbox_text_input form-check-input col-1 my-auto me-4';
        question_checkbox_text_input.setAttribute('type', 'checkbox');
        let question_checkbox_text_input_label = document.createElement('textarea');
        question_checkbox_text_input_label.className = 'question_checkbox_text_input_label form-control col-11 w-auto flex-grow-1';
        question_checkbox_text_input_label.setAttribute('type', 'text');
        question_checkbox_text_input_label.setAttribute('placeholder', 'question checkbox text');
        question_checkbox_text.append(question_checkbox_text_input);
        question_checkbox_text.append(question_checkbox_text_input_label);
        question_container.append(question_checkbox_text);
    }

    function addQuestionCheckboxImage(element) {
        let question_container = element.parentElement.parentElement.parentElement.childNodes[1];
        let question_checkbox_image = document.createElement('div');
        question_checkbox_image.className = 'question_checkbox_image w-100 d-flex mb-2';
        let question_checkbox_image_input = document.createElement('input');
        question_checkbox_image_input.className = 'question_checkbox_image_input form-check-input col-1 my-auto me-4 ';
        question_checkbox_image_input.setAttribute('type', 'checkbox');
        let question_checkbox_image_input_label = document.createElement('input');
        question_checkbox_image_input_label.className = 'question_checkbox_image_input_label  form-control col-11 w-auto flex-grow-1';
        question_checkbox_image_input_label.setAttribute('type', 'file');
        question_checkbox_image_input_label.setAttribute('placeholder', 'question checkbox image');
        question_checkbox_image.append(question_checkbox_image_input);
        question_checkbox_image.append(question_checkbox_image_input_label);
        question_container.append(question_checkbox_image);
    }

    function deleteQuestion(element) {
        let question_container = element.parentElement.parentElement.parentElement.childNodes[1];
        question_container.remove();
        reset_number();
    }

</script>

</html>