import{S as SvelteComponent,i as init,s as safe_not_equal,l as element,u as text,a as space,m as claim_element,p as children,v as claim_text,h as detach,c as claim_space,q as attr,b as insert_hydration,C as append_hydration,J as listen,w as set_data,n as noop,f as transition_in,g as group_outros,d as check_outros,t as transition_out,K as destroy_each,x as create_component,y as claim_component,z as mount_component,A as destroy_component}from"../../chunks/index-f623cb83.js";function create_fragment$2(l){let t,i,n,s,o,d,e,h,r,c,a,u,f,p;return{c(){t=element("div"),i=element("div"),n=element("div"),s=element("span"),o=text("$system>"),d=space(),e=element("input"),h=space(),r=element("pre"),c=text("		"),a=text(l[1]),u=text(`\r
    `),this.h()},l(m){t=claim_element(m,"DIV",{});var _=children(t);i=claim_element(_,"DIV",{});var y=children(i);n=claim_element(y,"DIV",{class:!0});var g=children(n);s=claim_element(g,"SPAN",{class:!0});var b=children(s);o=claim_text(b,"$system>"),b.forEach(detach),d=claim_space(g),e=claim_element(g,"INPUT",{class:!0,type:!0,name:!0,id:!0,tabindex:!0}),g.forEach(detach),y.forEach(detach),h=claim_space(_),r=claim_element(_,"PRE",{class:!0});var v=children(r);c=claim_text(v,"		"),a=claim_text(v,l[1]),u=claim_text(v,`\r
    `),v.forEach(detach),_.forEach(detach),this.h()},h(){attr(s,"class","py-1 pl-2 pr-4 font-bold rounded-l-lg text-chalk-green"),e.autofocus=!0,attr(e,"class","pl-4 caret-chalk-green bg-transparent flex-grow p-1 text-chalk-light-gray focus:outline-0 "),attr(e,"type","text"),attr(e,"name",""),attr(e,"id",""),attr(e,"tabindex","0"),e.disabled=l[2],e.value=l[0],attr(n,"class","flex "),attr(r,"class","text-chalk-light-gray pl-2 -mt-6")},m(m,_){insert_hydration(m,t,_),append_hydration(t,i),append_hydration(i,n),append_hydration(n,s),append_hydration(s,o),append_hydration(n,d),append_hydration(n,e),append_hydration(t,h),append_hydration(t,r),append_hydration(r,c),append_hydration(r,a),append_hydration(r,u),e.focus(),f||(p=listen(e,"keydown",l[3]),f=!0)},p(m,[_]){_&4&&(e.disabled=m[2]),_&1&&e.value!==m[0]&&(e.value=m[0]),_&2&&set_data(a,m[1])},i:noop,o:noop,d(m){m&&detach(t),f=!1,p()}}}function instance$1($$self,$$props,$$invalidate){let{globalString=""}=$$props,{initialValue=""}=$$props,{addGlobalString=l=>{console.log(l)}}=$$props,{addTerminalLine=()=>{console.log("add terminal line")}}=$$props,{clearTerminal=()=>{console.log("clear terminal")}}=$$props,result="",disable_input=!1;const handleKeyDown=event=>{if(event.key==="Enter"){if(event.target.value.trim()==="clear"){clearTerminal();return}try{let elementValue=event.target.value;const consoleLog=/console.log/g;consoleLog.test(elementValue)&&(elementValue=elementValue.replace(consoleLog,"logs.push"),elementValue+=` 
 JSON.parse(JSON.stringify(logs))`),$$invalidate(1,result=JSON.stringify(eval(globalString+elementValue),null,4)),addGlobalString(event.target.value)}catch(l){$$invalidate(1,result=l.message)}$$invalidate(1,result=`
`+result),$$invalidate(2,disable_input=!0),addTerminalLine()}};return initialValue&&(result=JSON.stringify(eval(globalString+initialValue),null,4),result=`
`+result,disable_input=!0,addTerminalLine()),$$self.$$set=l=>{"globalString"in l&&$$invalidate(4,globalString=l.globalString),"initialValue"in l&&$$invalidate(0,initialValue=l.initialValue),"addGlobalString"in l&&$$invalidate(5,addGlobalString=l.addGlobalString),"addTerminalLine"in l&&$$invalidate(6,addTerminalLine=l.addTerminalLine),"clearTerminal"in l&&$$invalidate(7,clearTerminal=l.clearTerminal)},[initialValue,result,disable_input,handleKeyDown,globalString,addGlobalString,addTerminalLine,clearTerminal]}class Terminal_line extends SvelteComponent{constructor(t){super(),init(this,t,instance$1,create_fragment$2,safe_not_equal,{globalString:4,initialValue:0,addGlobalString:5,addTerminalLine:6,clearTerminal:7})}}function get_each_context(l,t,i){const n=l.slice();return n[8]=t[i],n}function create_each_block(l){let t,i;return t=new Terminal_line({props:{clearTerminal:l[3],addTerminalLine:l[4],addGlobalString:l[5],globalString:l[1],initialValue:l[8]}}),{c(){create_component(t.$$.fragment)},l(n){claim_component(t.$$.fragment,n)},m(n,s){mount_component(t,n,s),i=!0},p(n,s){const o={};s&2&&(o.globalString=n[1]),s&1&&(o.initialValue=n[8]),t.$set(o)},i(n){i||(transition_in(t.$$.fragment,n),i=!0)},o(n){transition_out(t.$$.fragment,n),i=!1},d(n){destroy_component(t,n)}}}function create_fragment$1(l){let t,i,n,s,o,d=l[0],e=[];for(let r=0;r<d.length;r+=1)e[r]=create_each_block(get_each_context(l,d,r));const h=r=>transition_out(e[r],1,1,()=>{e[r]=null});return{c(){t=element("div"),i=element("div");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=claim_element(r,"DIV",{class:!0});var c=children(t);i=claim_element(c,"DIV",{id:!0,class:!0});var a=children(i);for(let u=0;u<e.length;u+=1)e[u].l(a);a.forEach(detach),c.forEach(detach),this.h()},h(){attr(i,"id","terminal-body"),attr(i,"class","terminal-body p-4 h-full overflow-y-auto sc3"),attr(t,"class","terminal m-auto bg-chalk-black min-w-[400px] w-[50%] h-[300px] rounded-lg p-4 ")},m(r,c){insert_hydration(r,t,c),append_hydration(t,i);for(let a=0;a<e.length;a+=1)e[a].m(i,null);n=!0,s||(o=listen(t,"click",l[2]),s=!0)},p(r,[c]){if(c&59){d=r[0];let a;for(a=0;a<d.length;a+=1){const u=get_each_context(r,d,a);e[a]?(e[a].p(u,c),transition_in(e[a],1)):(e[a]=create_each_block(u),e[a].c(),transition_in(e[a],1),e[a].m(i,null))}for(group_outros(),a=d.length;a<e.length;a+=1)h(a);check_outros()}},i(r){if(!n){for(let c=0;c<d.length;c+=1)transition_in(e[c]);n=!0}},o(r){e=e.filter(Boolean);for(let c=0;c<e.length;c+=1)transition_out(e[c]);n=!1},d(r){r&&detach(t),destroy_each(e,r),s=!1,o()}}}function instance(l,t,i){let{initData:n=`{
        name : "Luthfi",
        gender: "Male"
    }`}=t,s=["data.greeting"],o=`
    let logs = [];
    let data = ${n}
    

    `;const d=async a=>new Promise(u=>setTimeout(u,a)),e=()=>{const a=document.querySelectorAll("input");a[a.length-1].focus()},h=async()=>{i(0,s=[]),await d(100),i(0,s=[""])},r=()=>{i(0,s=[...s,""])},c=a=>{const u=/const.*=/g,f=/let.*=/g,p=/var.*=/g,m=/=/g;(u.test(a)||f.test(a)||p.test(a)||m.test(a))&&i(1,o=o+a+`
`)};return l.$$set=a=>{"initData"in a&&i(6,n=a.initData)},[s,o,e,h,r,c,n]}class Terminal extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment$1,safe_not_equal,{initData:6})}}const data={name:"Luthfi",fullname:"Muhammad Luthfi Albiansyah",greeting:"Hello, I'm Luthfi, a web developer from Indonesia"};function create_fragment(l){let t,i,n,s;return n=new Terminal({props:{initData:JSON.stringify(data)}}),{c(){t=element("div"),i=element("div"),create_component(n.$$.fragment),this.h()},l(o){t=claim_element(o,"DIV",{class:!0});var d=children(t);i=claim_element(d,"DIV",{class:!0});var e=children(i);claim_component(n.$$.fragment,e),e.forEach(detach),d.forEach(detach),this.h()},h(){attr(i,"class","flex lg:p-8 md:p-4 sm:p-1"),attr(t,"class","container m-auto ")},m(o,d){insert_hydration(o,t,d),append_hydration(t,i),mount_component(n,i,null),s=!0},p:noop,i(o){s||(transition_in(n.$$.fragment,o),s=!0)},o(o){transition_out(n.$$.fragment,o),s=!1},d(o){o&&detach(t),destroy_component(n)}}}class Page extends SvelteComponent{constructor(t){super(),init(this,t,null,create_fragment,safe_not_equal,{})}}export{Page as default};
